# KeepChat

> è·¨è®¾å¤‡ä¼šè¯åŒæ­¥çš„ AI ç¼–ç¨‹åŠ©æ‰‹

![CI](https://img.shields.io/github/actions/workflow/status/muwenbin/keepchat/ci.yml?branch=main)
![Version](https://img.shields.io/npm/v/keepchat?style=flat-square)
![License](https://img.shields.io/npm/l/keepchat?style=flat-square)
![Downloads](https://img.shields.io/npm/dm/keepchat?style=flat-square)

---

**ä½ çš„ AI å¯¹è¯ï¼Œè·¨è®¾å¤‡è·Ÿéšã€‚**

KeepChat æ˜¯ä¸€ä¸ªå¢å¼ºçš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œæ”¯æŒäº‘ç«¯ä¼šè¯åŒæ­¥ã€è·¨è®¾å¤‡æ¢å¤å’Œæ™ºèƒ½å†²çªè§£å†³ã€‚åŸºäº OpenSpec å·¥ä½œæµæ„å»ºï¼Œè®© AI è¾…åŠ©ç¼–ç¨‹æ›´åŠ å¯é å’Œå¯é¢„æµ‹ã€‚

---

## ç†å¿µ

```text
â†’ åŒæ­¥ï¼Œè€Œéå­¤ç«‹
â†’ å®‰å…¨ï¼Œè€Œéå¦¥å
â†’ ç®€å•ï¼Œè€Œéå¤æ‚
â†’ å¯è¿½æº¯ï¼Œè€Œéé»‘ç›’
â†’ ä»ä¸ªäººåˆ°å›¢é˜Ÿï¼Œå¹³æ»‘æ‰©å±•
```

---

## æ ¸å¿ƒç‰¹æ€§

### äº‘ç«¯ä¼šè¯åŒæ­¥

- **ä¸ƒç‰›äº‘å­˜å‚¨** - å¯é çš„äº‘ç«¯å­˜å‚¨ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
- **AES-256-GCM åŠ å¯†** - å†›ç”¨çº§åŠ å¯†ï¼Œä¿æŠ¤ä½ çš„å¯¹è¯éšç§
- **å¢é‡åŒæ­¥** - ä»…ä¸Šä¼ å˜æ›´ï¼ŒèŠ‚çœæµé‡å’Œæ—¶é—´
- **è‡ªåŠ¨åŒæ­¥** - åå°è‡ªåŠ¨å¤‡ä»½ï¼Œæ¯ 5 åˆ†é’Ÿæˆ–æ¯ 10 æ¡æ¶ˆæ¯è§¦å‘

### è·¨è®¾å¤‡åä½œ

- **ä¼šè¯æ¢å¤** - ä¸€é”®ä»äº‘ç«¯æ¢å¤ä»»æ„ä¼šè¯
- **è·¯å¾„æ˜ å°„** - æ™ºèƒ½å¤„ç†ä¸åŒè®¾å¤‡çš„è·¯å¾„å·®å¼‚
- **å†²çªè§£å†³** - ä¸‰ç§ç­–ç•¥ï¼ˆä¿ç•™æœ¬åœ°/äº‘ç«¯/æ‰‹åŠ¨åˆå¹¶ï¼‰+ æ™ºèƒ½è‡ªåŠ¨åˆå¹¶
- **å†²çªå¤‡ä»½** - è‡ªåŠ¨å¤‡ä»½è¢«è¦†ç›–çš„æ•°æ®ï¼Œä¿ç•™ 7 å¤©

### å¼€å‘è€…å‹å¥½

- **Slash Commands** - ç›´è§‚çš„å‘½ä»¤æ¥å£
- **è¿›åº¦åé¦ˆ** - å®æ—¶æ˜¾ç¤ºä¸Šä¼ /ä¸‹è½½è¿›åº¦
- **é”™è¯¯å¤„ç†** - å‹å¥½çš„é”™è¯¯æç¤ºå’Œè§£å†³å»ºè®®
- **å¯†é’¥ç®¡ç†** - çµæ´»çš„å¯†é’¥å¯¼å…¥/å¯¼å‡º/è½®æ¢

---

## æ•ˆæœå±•ç¤º

```bash
# åŒæ­¥å½“å‰ä¼šè¯åˆ°äº‘ç«¯
ä½ : /sync-session
AI: âœ… ä¼šè¯å·²åŒæ­¥
   ä¼šè¯ID: 550e8400-e29b-41d4-a716-446655440000
   æ¶ˆæ¯æ•°é‡: 127
   ä¸Šä¼ å¤§å°: 45.2 KB
   å‹ç¼©ç‡: 72%

# åœ¨å¦ä¸€ä¸ªè®¾å¤‡æ¢å¤ä¼šè¯
ä½ : /restore-session 550e8400-e29b-41d4-a716-446655440000
AI: âœ… ä¼šè¯å·²æ¢å¤
   æ¶ˆæ¯æ•°é‡: 127
   åŸå§‹è®¾å¤‡: MacBook Pro
   åˆ›å»ºæ—¶é—´: 2026-01-28 10:30:00

# åˆ—å‡ºæ‰€æœ‰äº‘ç«¯ä¼šè¯
ä½ : /list-sessions --limit 10
AI: ğŸ“‹ äº‘ç«¯ä¼šè¯åˆ—è¡¨
   1. 550e84... - 127 æ¶ˆæ¯ - 2å°æ—¶å‰
   2. abc123... - 89 æ¶ˆæ¯  - 1å¤©å‰
   ...
   å­˜å‚¨ä½¿ç”¨: 2.3 MB / 10 GB (å…è´¹é¢åº¦)
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.19.0
- ä¸ƒç‰›äº‘è´¦å·ï¼ˆ[å…è´¹æ³¨å†Œ](https://www.qiniu.com/)ï¼‰

### å®‰è£…

```bash
npm install -g keepchat
```

### åˆå§‹åŒ–

```bash
cd your-project
keepchat init
```

### é…ç½®ä¸ƒç‰›äº‘

```bash
# è¿è¡Œé…ç½®å‘å¯¼
keepchat configure qiniu

# æˆ–æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡
export QINIU_ACCESS_KEY="your-access-key"
export QINIU_SECRET_KEY="your-secret-key"
export QINIU_BUCKET="your-bucket-name"
export QINIU_REGION="z0"  # åä¸œ
```

### é…ç½®åŠ å¯†å¯†é’¥

```bash
# è‡ªåŠ¨ç”ŸæˆåŠ å¯†å¯†é’¥
keepchat configure encryption

# æˆ–ä½¿ç”¨ä½ è‡ªå·±çš„å¯†é’¥
export ENCRYPTION_API_KEY="your-api-key"
```

### å¼€å§‹ä½¿ç”¨

```bash
# åŒæ­¥å½“å‰ä¼šè¯
keepchat sync

# æ¢å¤ä¼šè¯
keepchat restore <session-id>

# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
keepchat list

# åˆ é™¤ä¼šè¯
keepchat delete <session-id>
```

---

## æ–‡æ¡£

- [ç”¨æˆ·æŒ‡å—](docs/user-guide.md) - å®Œæ•´çš„ä½¿ç”¨è¯´æ˜
- [å¸¸è§é—®é¢˜](docs/faq.md) - FAQ å’Œæ•…éšœæ’é™¤
- [API æ–‡æ¡£](docs/api.md) - å¼€å‘è€… API å‚è€ƒ
- [æ¶æ„æ–‡æ¡£](docs/architecture.md) - ç³»ç»Ÿè®¾è®¡å’Œæ¶æ„
- [ä¸ƒç‰›äº‘é…ç½®](.codebuddy/examples/qiniu-config.example.json) - é…ç½®ç¤ºä¾‹
- [åŠ å¯†é…ç½®](.codebuddy/examples/encryption-config.example.json) - åŠ å¯†ç¤ºä¾‹

---

## æŠ€æœ¯æ¶æ„

```
keepchat/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ session-sync/      # ä¼šè¯åŒæ­¥å¼•æ“
â”‚   â”‚   â”œâ”€â”€ sync.js        # ä¸Šä¼ æµç¨‹
â”‚   â”‚   â”œâ”€â”€ restore.js     # ä¸‹è½½æµç¨‹
â”‚   â”‚   â”œâ”€â”€ incremental.js # å¢é‡åŒæ­¥
â”‚   â”‚   â”œâ”€â”€ conflict-*.js  # å†²çªæ£€æµ‹ä¸è§£å†³
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ qiniu/             # ä¸ƒç‰›äº‘é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ upload.js      # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ download.js    # æ–‡ä»¶ä¸‹è½½
â”‚   â”‚   â”œâ”€â”€ list.js        # æ–‡ä»¶åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ encryption/        # åŠ å¯†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ aes.js         # AES-256-GCM
â”‚   â”‚   â”œâ”€â”€ keys.js        # å¯†é’¥æ´¾ç”Ÿ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ commands/          # Slash Commands
â”‚   â””â”€â”€ ux/                # ç”¨æˆ·ä½“éªŒç»„ä»¶
â””â”€â”€ tests/                 # æµ‹è¯•å¥—ä»¶
    â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯• (98+)
    â”œâ”€â”€ e2e/               # ç«¯åˆ°ç«¯æµ‹è¯•
    â”œâ”€â”€ security/          # å®‰å…¨æµ‹è¯•
    â”œâ”€â”€ performance/       # æ€§èƒ½æµ‹è¯•
    â””â”€â”€ network/           # ç½‘ç»œå¼‚å¸¸æµ‹è¯•
```

---

## å®‰å…¨æ€§

KeepChat å°†å®‰å…¨æ€§ä½œä¸ºé¦–è¦è€ƒè™‘ï¼š

- **ç«¯åˆ°ç«¯åŠ å¯†** - æ‰€æœ‰ä¼šè¯æ•°æ®ä½¿ç”¨ AES-256-GCM åŠ å¯†
- **å¯†é’¥æ´¾ç”Ÿ** - PBKDF2-SHA256 (100,000 æ¬¡è¿­ä»£)
- **å®Œæ•´æ€§éªŒè¯** - SHA-256 å“ˆå¸Œæ ¡éªŒ
- **å¼±å¯†ç æ£€æµ‹** - è‡ªåŠ¨æ‹’ç»å¸¸è§å¼±å¯†ç 
- **è®¤è¯æ ‡ç­¾** - GCM æ¨¡å¼æä¾›é˜²ç¯¡æ”¹ä¿æŠ¤
- **é›¶çŸ¥è¯†** - ä¸ƒç‰›äº‘æ— æ³•è¯»å–ä½ çš„åŠ å¯†æ•°æ®

---

## å¯¹æ¯”

| ç‰¹æ€§ | KeepChat | ä¼ ç»Ÿæ–¹æ¡ˆ |
|------|----------|----------|
| è·¨è®¾å¤‡åŒæ­¥ | âœ… äº‘ç«¯åŒæ­¥ | âŒ æœ¬åœ°å­¤ç«‹ |
| æ•°æ®åŠ å¯† | âœ… AES-256-GCM | âŒ æ˜æ–‡å­˜å‚¨ |
| å†²çªè§£å†³ | âœ… æ™ºèƒ½åˆå¹¶ | âŒ æ‰‹åŠ¨å¤„ç† |
| å¢é‡åŒæ­¥ | âœ… ä»…ä¼ å˜æ›´ | âŒ å…¨é‡ä¸Šä¼  |
| å‹ç¼©ä¼˜åŒ– | âœ… GZIP (~70%) | âŒ æ— å‹ç¼© |
| ç¦»çº¿ç¼“å­˜ | âœ… 30 å¤©ç¼“å­˜ | âŒ æ— ç¦»çº¿æ”¯æŒ |
| æ¢å¤èƒ½åŠ› | âœ… ä»»æ„å†å²ç‰ˆæœ¬ | âŒ ä»…å½“å‰ç‰ˆæœ¬ |

---

## å¼€å‘

### è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æµç¨‹ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ä¸€ä¸ª Pull Request

### å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œæµ‹è¯•
npm test

# è¿è¡Œ lint
npm run lint

# æ„å»º
npm run build

# æœ¬åœ°å¼€å‘
npm run dev
```

### æäº¤çº¦å®š

æˆ‘ä»¬ä½¿ç”¨ [çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/)ï¼š

- `feat:` - æ–°åŠŸèƒ½
- `fix:` - ä¿®å¤ bug
- `docs:` - æ–‡æ¡£æ›´æ–°
- `style:` - ä»£ç æ ¼å¼
- `refactor:` - ä»£ç é‡æ„
- `test:` - æµ‹è¯•ç›¸å…³
- `chore:` - æ„å»º/å·¥å…·ç›¸å…³

---

## æ€§èƒ½åŸºå‡†

| åœºæ™¯ | æ€§èƒ½æŒ‡æ ‡ |
|------|----------|
| 1000 æ¡æ¶ˆæ¯åŒæ­¥ | < 3 ç§’ |
| åŠ å¯†/è§£å¯†é€Ÿåº¦ | ~50 MB/s |
| GZIP å‹ç¼©ç‡ | 70-80% |
| è‡ªåŠ¨åˆå¹¶å»¶è¿Ÿ | < 100ms |
| å†…å­˜å ç”¨ | < 100 MB |

---

## è·¯çº¿å›¾

- [ ] å¤šäº‘å­˜å‚¨æ”¯æŒ (AWS S3, Aliyun OSS)
- [ ] å®æ—¶åŒæ­¥ (WebSocket)
- [ ] åä½œåŠŸèƒ½ (å¤šç”¨æˆ·å…±äº«ä¼šè¯)
- [ ] æµè§ˆå™¨æ‰©å±•
- [ ] ç§»åŠ¨ç«¯åº”ç”¨
- [ ] ä¼ä¸šç‰ˆ (ç§æœ‰éƒ¨ç½²)

---

## è®¸å¯è¯

[MIT](LICENSE) Â© Muwenbin

---

## è‡´è°¢

- [OpenSpec](https://github.com/Fission-AI/OpenSpec) - è§„èŒƒé©±åŠ¨å¼€å‘æ¡†æ¶
- [ä¸ƒç‰›äº‘](https://www.qiniu.com/) - äº‘å­˜å‚¨æœåŠ¡æä¾›å•†
- [Node.js](https://nodejs.org/) - JavaScript è¿è¡Œæ—¶

---

## è”ç³»æ–¹å¼

- ä½œè€…: Muwenbin
- é‚®ç®±: muwenbin@example.com
- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/muwenbin/keepchat/issues)
- è®¨è®ºåŒº: [GitHub Discussions](https://github.com/muwenbin/keepchat/discussions)

---

**è®©ä½ çš„ AI å¯¹è¯ï¼Œæ— å¤„ä¸åœ¨ã€‚** âš¡
